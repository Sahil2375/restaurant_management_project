{% load menu_extras %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Our Menu</title>
        <ul>
            {% for item in page_obj %}
            <li>
                <img src="{{ item.image.url }}" alt="Delicious {{ item.name }} from our menu" width="200">
                <p>{{ item.name }} - {{ item.price}}</p>
            </li>
            {% endfor %}

            <form method="get" action="">
                <input type="text" name="q" placeholder="Search Menu..." value="{{ query|default:'' }}">
                <button type="submit">Search</button>
            </form>

            {% for item in menu_items %}
            <li>
                <strong>{{ item.name }}</strong> - {{ item.description }} - ${{ item.price }}
                <a href="{% url 'add_to_cart' item.id %}">Add to Cart</a>
            </li>
            {% empty %}
            <li>
                {{ item|availability }}
            </li>
            {% endfor %}
        </ul>
    </head>
    <body>

        <h1>Our Menu</h1>

        <div class="pagination">
            {% if page_obj.has_previous %}
            <a href="?page=1">First</a>
            <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
            {% endif %}

            <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">Next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">Last</a>
            {% endif %}
        </div>

        <div class="menu-container">
            {% for item in menu-items %}
            <div class="menu-item">
                <h2>{{ item.name }}</h2>
                <p>{{ item.description }}</p>
                <span class="price">${{ item.price }}</span>
            </div>
            {% empty %}
            <p>No menu items found.</p>
            {% endfor %}
        </div>
    </body>
</html>